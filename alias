# .alias
# Aliases and exports

## Aliases
## Edit configs
alias evim="$EDITOR ~/.vimrc"
alias ei3="$EDITOR ~/.i3/config"
alias ealias="$EDITOR ~/.alias"
alias ezsh="$EDITOR ~/.zshrc"
alias ebash="$EDITOR ~/.bashrc"
alias exinit="$EDITOR ~/.xinitrc"

# Pacaur
alias pa="pacaur"
## Modified commands
alias ls="ls --color=auto -1"
alias grep="grep --color=auto"
alias df="df -h"
alias du="du -c -h"
alias mkdir="mkdir -p -v"
alias dmesg="dmesg -HL"
alias less=$PAGER

alias da="date '+%A, %B %d, %Y [%T]'"
alias du1="du --max-depth=1"
alias hist="history | grep"         		# requires an argument
alias openports="ss --all --numeric --processes --ipv4 --ipv6"
alias ..="cd .."

## Privileged access
if [ $UID -ne 0 ]; then
    alias sudo="sudo "
    alias scat="sudo cat"
    alias svim="sudoedit"
    alias root="sudo -s"
    alias reboot="sudo systemctl reboot"
    alias poweroff="sudo systemctl poweroff"
    alias update="sudo pacman -Su"
    alias netctl="sudo netctl"
fi

## ps
alias psc="ps xawf -eo pid,user,cgroup,args"

## journalctl
alias errors="sudo journalctl -p 0..3 -xn"

## rsync
alias rsync="rsync --progress"

## ls
alias ll="ls -lh"
alias la="ll -lah"
alias lz="ll -rS"                   			# sort by size
#alias ls="ls -hF --color=auto"
#alias lr="ls -R"                    			# recursive ls
#alias lx="ll -BX"                   			# sort by extension
#alias lt="ll -rt"                   			# sort by date
#alias lm="la | more"

## Safety features ## {{{
alias cp="cp -i"
alias mv="mv -i"
alias rm="rm -I"                    			# "rm -i" prompts for every file
#alias rm=" timeout 3 rm -Iv --one-file-system"	# safer alternative w/ timeout, not stored in history
alias ln="ln -i"
alias chown="chown --preserve-root"
alias chmod="chmod --preserve-root"
alias chgrp="chgrp --preserve-root"
alias cls=" echo -ne "\033c""       			# clear screen for real (it does not work in Terminology)

## Pacman
#alias pacman="sudo pacman"
#alias pac="sudo /usr/bin/pacman -S"				# default action	- install one or more packages
#alias pacu="sudo /usr/bin/pacman -Syu"			# "[u]pdate"		- upgrade all packages to their newest version
#alias pacr="sudo /usr/bin/pacman -Rs"			# "[r]emove"		- uninstall one or more packages
#alias pacs="/usr/bin/pacman -Ss"				# "[s]earch"		- search for a package using one or more keywords
#alias paci="/usr/bin/pacman -Si"				# "[i]nfo"		- show information about a package
#alias paclo="/usr/bin/pacman -Qdt"				# "[l]ist [o]rphans"	- list all packages which are orphaned
#alias pacc="sudo /usr/bin/pacman -Scc"			# "[c]lean cache"	- delete all not currently installed package files
#alias paclf="/usr/bin/pacman -Ql"				# "[l]ist [f]iles"	- list all files installed by a given package
#alias pacexpl="/usr/bin/pacman -D --asexp"		# "mark as [expl]icit"	- mark one or more packages as explicitly installed
#alias pacimpl="/usr/bin/pacman -D --asdep"		# "mark as [impl]icit"	- mark one or more packages as non explicitly installed
# "[r]emove [o]rphans" - recursively remove ALL orphaned packages
#alias pacro="/usr/bin/pacman -Qtdq > /dev/null && sudo /usr/bin/pacman -Rs \$(/usr/bin/pacman -Qtdq | sed -e ":a;N;$!ba;s/\n/ /g")"

# ToDo.txt
if [ -d "$HOME/.todo" ]; then

	export TODOTXT_DEFAULT_ACTION=ls
	source ~/.todo/todo_completion

	alias t="todo.sh -ftd /home/robin/.todo/todo.cfg"
	#autocomplete for alias "t"
	[[ ! $ZSH ]] && complete -F _todo t
	#Default action "t" lists uncompleted tasks
fi

# extract function
    ext () {
      if [ -f $1 ] ; then
          case $1 in
              *.tar.bz2)   tar xvjf $1    ;;
              *.tar.gz)    tar xvzf $1    ;;
              *.bz2)       bunzip2 $1     ;;
              *.rar)       rar x $1       ;;
              *.gz)        gunzip $1      ;;
              *.tar)       tar xvf $1     ;;
              *.tbz2)      tar xvjf $1    ;;
              *.tgz)       tar xvzf $1    ;;
              *.zip)       unzip $1       ;;
              *.Z)         uncompress $1  ;;
              *.7z)        7z x $1        ;;
              *)           echo "don't know how to extract '$1'..." ;;
          esac
      else
          echo "'$1' is not a valid file!"
      fi
    } 

# cd and ls in one
cl() {
    if [[ -d "$1" ]]; then
        cd "$1"
        ls
    else
        echo "bash: cl: "$1": Directory not found"
    fi
}
# Vagrant
alias vagup="vagrant up"
alias vagssh="vagrant ssh"
alias vagoff="vagrant halt -f"
alias vagsup="vagrant up; vagrant ssh"
alias vagalloff="command $HOME/.bin/vagrant_shutdown.sh"
alias vagrel="vagrant halt -f; vagrant up"
#vagrant() {
#    if [[ $@ == "global-halt" ]]; then
#        command ./.bin/vagrant_shutdown.sh
#    else
#        command vagrant "$@"
#    fi
#}
# SSH
alias sshgen="ssh-keygen -t rsa -C $1"
# Start all modules required for VirtualBox
alias modvbox="sudo modprobe vboxdrv;sudo modprobe vboxnetadp;sudo modprobe vboxnetflt;sudo modprobe vboxpci"
alias wakebrix="wol 74:d4:35:69:d2:fe"
alias python="/usr/bin/python2"
alias showcolors="$HOME/.scripts/print_colorscheme.sh"
#alias veewee="bundle exec veewee"

# bash-git-prompt
if [[ -f $HOME/.bash-git-prompt/gitprompt.sh && ! $ZSH ]]; then
	GIT_PROMPT_ONLY_IN_REPO=1
	GIT_PROMPT_THEME=Solarized
	source $HOME/.bash-git-prompt/gitprompt.sh
fi
#vim: set syntax=sh
